<main id="mainContent">
	<div class="text-center header">
		<h1>Image classification</h1>

		<div>
			<p>Upload an image to begin.</p>
			<form class="row form-group" (submit)="handleUploadImage()">
				<label *ngIf="!uploadInProgress" for="fileUpload" class="col-2 mx-auto file-upload btn btn-primary btn-block rounded-pill shadow">
					<fa-icon [icon]="fileUploadIcon"></fa-icon>
					Upload
					<input id="fileUpload" type="file" name="image" (change)="onFileChanged($event)">
				</label>
				<button *ngIf="uploadInProgress" class="col-2 mx-auto file-upload btn btn-primary btn-block rounded-pill shadow" disabled>
					<span class="spinner-border spinner-border-sm mr-1" role="status" aria-hidden="true"></span>
					Analyzing image
				</button>
			</form>
		</div>
	</div>
	
	<!-- TODO add search -->
	<!-- TODO add TYPEAHEAD -->

	<div class="container mt-5">
		<div class="row justify-content-around text-center pb-5">
			<app-grid-box
			class="col-4 p-5 card d-block"
			*ngFor="let image of gridImages"
			[filename]="image.filename"
			[header]="image.labelAnnotations ? image.labelAnnotations[0].description : null"
			[labels]="image.labelAnnotations"
			[image]="image.b64"
			>
			</app-grid-box>
		</div>
	</div>
	<app-warning-message
	*ngIf="WarningMessageOpen"
	[text]="WarningMessageText"
	(WarningMessageOpen)="handleWarningClose($event)"
	>
	</app-warning-message>
</main>
